# 虚拟文件系统管理器

这是一个用 Java Swing 实现的虚拟文件系统管理器，模拟了基本的文件系统操作。

## 功能特性

### 文件系统管理

- **格式化**: 初始化虚拟文件系统
- **目录操作**: 创建、删除、切换目录
- **文件操作**: 创建、打开、关闭、读取、写入、删除文件
- **信息查看**: 显示文件和目录的详细信息

### GUI 界面特性

- 直观的图形用户界面
- 实时状态显示和路径跟踪
- 目录浏览器和文件内容查看器
- 操作日志记录
- 双击目录快速切换

## 使用方法

### 1. 编译和运行

```bash
# 编译所有Java文件
javac *.java

# 运行程序
java FileSystemManager
```

### 2. 基本操作流程

#### 初始化

1. 启动程序后，首先点击"格式化"按钮初始化文件系统
2. 状态栏会显示"已格式化"，当前路径会显示为"/"

#### 目录操作

- **创建目录**: 点击"创建目录"按钮，输入目录名称
- **删除目录**: 点击"删除目录"按钮，输入要删除的目录名（只能删除空目录）
- **切换目录**:
  - 点击"切换目录"按钮，输入路径
  - 或双击目录浏览器中的目录项
  - 使用".."返回上级目录，"/"返回根目录

#### 文件操作

1. **创建文件**: 点击"创建文件"按钮，输入文件名
2. **打开文件**: 点击"打开文件"按钮，输入要打开的文件名
3. **写入文件**: 选择已打开的文件，输入内容
4. **读取文件**: 选择已打开的文件，内容会显示在文件内容区域
5. **关闭文件**: 从已打开的文件列表中选择要关闭的文件
6. **删除文件**: 输入要删除的文件名，确认删除

#### 信息查看

- 点击"显示信息"按钮，输入文件或目录名，查看详细信息

### 3. 界面说明

#### 主界面布局

- **顶部**: 系统状态和当前路径显示
- **左侧**: 操作按钮面板
- **右侧**:
  - 目录浏览选项卡：显示当前目录内容
  - 文件内容选项卡：显示和编辑文件内容
- **底部**: 操作日志显示

#### 目录浏览器

- 目录以"/"结尾显示
- 文件显示文件名和大小
- 双击目录可快速切换
- "."表示当前目录，".."表示上级目录

#### 操作日志

- 记录所有操作的时间戳和结果
- 绿色文本显示，类似终端风格
- 自动滚动到最新消息

## 技术实现

### 核心类说明

- `FileNode.java`: 文件节点类，表示文件和目录
- `VirtualFileSystem.java`: 虚拟文件系统核心逻辑
- `FileSystemManager.java`: GUI 界面和用户交互

### 文件系统特性

- 树形目录结构
- 文件打开状态管理
- 时间戳记录（创建时间、修改时间）
- 文件大小计算
- 路径解析和导航

### 安全特性

- 文件名合法性检查
- 目录非空检查（删除前）
- 文件打开状态验证（读写前）
- 重复名称冲突检查

## 使用示例

1. 启动程序并格式化文件系统
2. 创建目录"documents"
3. 切换到"documents"目录
4. 创建文件"readme.txt"
5. 打开文件"readme.txt"
6. 写入内容"Hello, World!"
7. 读取文件内容
8. 查看文件信息

## 注意事项

- 必须先格式化文件系统才能进行其他操作
- 只能删除空目录
- 文件必须先打开才能读写
- 文件名不能包含"/"字符
- 不能创建与现有文件/目录同名的项目

# 
